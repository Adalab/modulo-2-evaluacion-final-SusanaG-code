{"version":3,"sources":["LS.js","apiShow.js","favShow.js","main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nfunction setLocalStorage() {\n    localStorage.setItem('fav', JSON.stringify(fav));\n}\nfunction getLocalStorage() {\n    const favLocalStorage = JSON.parse(localStorage.getItem(fav));\n    const favLocalStorageJ = JSON.parse(favLocalStorage)\n    if (favLocalStorageJ === null) {\n        getShowList();\n    } else {\n        fav = favLocalStorageJ;\n    }\n}\ngetLocalStorage();","'use strict';\n\nconst search = document.querySelector('.js-btn');\nconst inputElement = document.querySelector('.js-input');\nconst showList = document.querySelector('.js-list');\nlet userFavUl = document.querySelector('.js-fav-user');\n\n\nlet show = [];\n\nfunction getShowList(event) {\n    // event.preventDefault();\n    const userValue = inputElement.value;\n    fetch(`http://api.tvmaze.com/search/shows?q=${userValue}`)\n        .then(response => response.json())\n        .then(data => {\n            show = data;\n\n            paintShowCard();\n        })\n        .catch(error => {\n            console.error('Se ha producido un error:', error);\n        })\n\n}\n\nsearch.addEventListener('click', getShowList);\n\nfunction paintShowCard() {\n    showList.innerHTML = '';\n    for (let i = 0; i < show.length; i++) {\n\n        const arrayShowImg = show[i].show.image;\n        const arrayShowName = show[i].show.name;\n        const arrayShowId = show[i].show.id;\n\n        const newImg = createElements(arrayShowName, arrayShowId, arrayShowImg);\n\n        listenToFavorite();\n\n    }\n\n\n    function createElements(arrayShowName, arrayShowId, arrayShowImg) {\n        const newList = document.createElement('li');\n        const newContentList = document.createTextNode(arrayShowName);\n        newList.appendChild(newContentList);\n        showList.appendChild(newList);\n        newList.setAttribute('class', 'showCard js-shows classFav');\n        newList.setAttribute('id', arrayShowId);\n        const newImg = document.createElement('img');\n        let urlImg = '';\n        if (arrayShowImg === null) {\n            urlImg = 'https://via.placeholder.com/210x295/ffffff/666666/?';\n\n        } else {\n            urlImg = arrayShowImg.medium;\n        }\n        newImg.setAttribute('src', urlImg);\n        newImg.setAttribute('alt', 'Tv show');\n        newList.appendChild(newImg);\n        return newImg;\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n","'use strict';\n\n//query selectors\nlet fav = [];\n\n\n//aÃ±adir favoritos en un array\nfunction favoriteShows(ev) {\n    const clicked = parseInt(ev.currentTarget.id);\n    const clickedElement = ev.currentTarget;\n\n    //const indexFav = fav.indexOf(clicked);\n    const indexFav = fav.findIndex(favItem => favItem.show.id === clicked)\n    const clickFavorite = indexFav !== -1;\n    if (clickFavorite === false) {\n\n        const foundShow = show.find(showItem => showItem.show.id === clicked)\n        fav.push(foundShow);\n        clickedElement.classList.add('showCardRev');\n\n    }\n    else {\n        fav.splice(indexFav, 1);\n        clickedElement.classList.remove('showCardRev');\n    }\n    paintFav();\n    setLocalStorage();\n\n}\n\nfunction listenToFavorite() {\n    const favItems = document.querySelectorAll('.js-shows');\n    for (const favItem of favItems) {\n        favItem.addEventListener('click', favoriteShows);\n    };\n}\n\n\nfunction paintFav() {\n    userFavUl.innerHTML = ''\n    for (let i = 0; i < fav.length; i++) {\n\n        const arrayFavImg = fav[i].show.image;\n        const arrayFavName = fav[i].show.name;\n        const arrayFavId = fav[i].show.id;\n\n        const userFavLi = document.createElement('li');\n        const contentFavList = document.createTextNode(arrayFavName);\n        userFavLi.appendChild(contentFavList);\n        userFavUl.appendChild(userFavLi);\n        userFavLi.setAttribute('id', arrayFavId);\n        userFavLi.setAttribute('class', 'favLi');\n        const userFavImg = document.createElement('img');\n        let urlFav = '';\n        if (arrayFavImg === null) {\n            console.log(arrayFavImg);\n            urlFav = 'https://via.placeholder.com/210x295/ffffff/666666/?';\n\n\n        } else {\n            urlFav = arrayFavImg.medium;\n        }\n        userFavImg.setAttribute('src', urlFav);\n        userFavLi.appendChild(userFavImg);\n    }\n}\n\n\n\n\n\n","\n'use strict';\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}